<!-- <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
  <div class="container">
    <a routerLink="/" class="navbar-brand d-flex align-items-center">

      <span class="fw-bold brand-title"> <i class="bi bi-pie-chart-fill me-2"></i>ExpenseTracker</span>
    </a>

    <div class="d-flex align-items-center ms-auto gap-2">

      <ng-container *ngIf="user$ | async as name; else notLoggedIn">

        <div class="me-2 small brand-title" style="font-size: 1.2rem;">
          Welcome, <span class="fw-semibold brand-title"
            style="font-size: 1.2rem; color: rgb(19, 32, 176); letter-spacing: -0.9px;">{{ name }}</span>
        </div>

        <button class="btn px-lg-3 btn-outline-secondary btn-sm"
          style="font-family: 'Montserrat', sans-serif; font-weight: 600;" (click)="onLogout()">Logout</button>

      </ng-container>

      <ng-template #notLoggedIn>
        <button *ngIf="currentRoute === '/login'" class="btn px-lg-3 btn-outline-primary btn-sm"
          style="font-family: 'Montserrat', sans-serif; font-weight: 600;" (click)="onRegister()">Register</button>
        <button *ngIf="currentRoute === '/register'" class="btn px-lg-3 btn-outline-primary btn-sm"
          style="font-family: 'Montserrat', sans-serif; font-weight: 600;" (click)="onLogin()">Login</button>
        <button *ngIf="currentRoute !== '/login' && currentRoute !== '/register'" class="btn px-lg-3 btn-primary btn-sm"
          style="font-family: 'Montserrat', sans-serif; font-weight: 600;" (click)="onLogin()">Login</button>
      </ng-template>

    </div>


  </div>
</nav> -->

<nav class="navbar navbar-expand-lg navbar-light shadow-sm" style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.2);">
    <div class="container">
        <!-- Brand Logo -->
        <a routerLink="/" class="navbar-brand d-flex align-items-center">
            <span class="fw-bold brand-title">
                <i class="bi bi-pie-chart-fill me-2" style="color: #1465e8;"></i>ExpenseTracker
            </span>
        </a>

        <!-- Navigation Items -->
        <div class="d-flex align-items-center ms-auto gap-3">
          
            <ng-container *ngIf="user$ | async as name; else notLoggedIn">
                <!-- User Welcome Message -->
                <div class="me-3 d-none d-sm-block">
                    <span class="small text-muted">Welcome,</span>
                    <span class="fw-semibold ms-1" style="color: #1e40af; font-size: 1.1rem; letter-spacing: -0.5px;">
                        {{ name }}
                    </span>
                </div>

                <!-- Mobile User Welcome (shorter version) -->
                <div class="me-2 d-block d-sm-none">
                    <span class="fw-semibold" style="color: #1e40af; font-size: 1rem;">
                        Hi, {{ name.split(' ')[0] }}
                    </span>
                </div>

                <!-- Logout Button -->
                <button class="btn px-3 px-lg-4 btn-outline-danger btn-sm" 
                        style="font-family: 'Montserrat', sans-serif; font-weight: 600; border-width: 2px;"
                        (click)="onLogout()">
                    <i class="bi bi-box-arrow-right me-1"></i>
                    <span class="d-none d-md-inline">Logout</span>
                </button>
            </ng-container>

            <ng-template #notLoggedIn>
                <!-- Register Button -->
                <button *ngIf="currentRoute === '/login'" 
                        class="btn px-3 px-lg-4 btn-success btn-sm"
                        style="font-family: 'Montserrat', sans-serif; font-weight: 600; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border: none;"
                        (click)="onRegister()">
                    <i class="bi bi-person-plus me-1"></i>
                    <span class="d-none d-md-inline">Register</span>
                </button>

                <!-- Login Button when on Register page -->
                <button *ngIf="currentRoute === '/register'" 
                        class="btn px-3 px-lg-4 btn-primary btn-sm"
                        style="font-family: 'Montserrat', sans-serif; font-weight: 600; background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); border: none;"
                        (click)="onLogin()">
                    <i class="bi bi-box-arrow-in-right me-1"></i>
                    <span class="d-none d-md-inline">Login</span>
                </button>

                <!-- Login Button for other pages -->
                <button *ngIf="currentRoute !== '/login' && currentRoute !== '/register'" 
                        class="btn px-3 px-lg-4 btn-primary btn-sm"
                        style="font-family: 'Montserrat', sans-serif; font-weight: 600; background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); border: none;"
                        (click)="onLogin()">
                    <i class="bi bi-box-arrow-in-right me-1"></i>
                    <span class="d-none d-md-inline">Login</span>
                </button>
            </ng-template>

        </div>
    </div>
</nav>